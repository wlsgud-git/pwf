{"ast":null,"code":"// css\nimport\"../css/signup.css\";// library\nimport{useEffect,useRef,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";// other file\nimport{createFormData}from\"../util/form\";import{user_service}from\"../service/user.service\";import{AxiosError}from\"../error/error\";// types\nimport{PasswordError}from\"../types/auth\";import{emailValidate,nicknameValidate,passwordFormValid}from\"../validation/auth\";import{Authcode}from\"../components/modal/authcode\";import{emitter}from\"../util/event\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Signup=()=>{let navigate=useNavigate();const InputInitState={value:\"\",error:false,error_msg:\"\",show:false,active:false};const BtnInitState={active:false,loading:false};let emailRef=useRef(null);let nicknameRef=useRef(null);let passwordRef=useRef(null);let passwordCheckRef=useRef(null);let[email,setEmail]=useState(InputInitState);let[nickname,setNickname]=useState(InputInitState);let[password,setPassword]=useState(InputInitState);let[passwordCheck,setPasswordCheck]=useState(InputInitState);let[signupBtn,setSignupBtn]=useState(BtnInitState);// authcode\nlet[show,setShow]=useState(false);const signupError=(path,msg)=>{if(path==\"email\")setEmail(c=>({...c,error:true,error_msg:msg}));else if(path==\"nickname\"){setNickname(c=>({...c,error:true,error_msg:msg}));}else if(path==\"password\"){setPassword(c=>({...c,error:true,error_msg:PasswordError.PASSWORD_FORM_ERROR}));}else{setPasswordCheck(c=>({...c,erorr:true,error_msg:PasswordError.PASSWORD_CHECK_ERROR}));}};const account=async()=>{try{await user_service.account(createFormData({email:email.value,nickname:nickname.value,password:password.value}));window.location.href=\"/login\";}catch(err){alert(err);}};const submitSignup=async e=>{e.preventDefault();setSignupBtn(c=>({...c,loading:true}));try{let formdata=createFormData({email:email.value,nickname:nickname.value,password:password.value,password_check:passwordCheck.value});await user_service.accountUser(formdata);emitter.emit(\"modal\",{open:true,type:\"authcode\"});setShow(true);}catch(err){let{path,msg}=AxiosError(err);signupError(path,msg);}setSignupBtn(c=>({...c,loading:false}));};let inputFocus=type=>{if(type==\"email\")setEmail(c=>({...c,active:true,error:false}));else if(type==\"nickname\")setNickname(c=>({...c,active:true,error:false}));else if(type==\"password\")setPassword(c=>({...c,active:true,error:false}));else setPasswordCheck(c=>({...c,active:true,error:false}));};let inputBlur=async type=>{try{if(type==\"email\"){setEmail(c=>({...c,active:false}));await emailValidate(email.value,false);}else if(type==\"nickname\"){setNickname(c=>({...c,active:false}));await nicknameValidate(nickname.value);}else if(type==\"password\"){setPassword(c=>({...c,active:false}));if(passwordFormValid(password.value))throw{path:\"password\",msg:PasswordError.PASSWORD_FORM_ERROR};}}catch(err){let{path,msg}=AxiosError(err);signupError(path,msg);}};// 비밀번호 확인값 검증\nuseEffect(()=>{setPasswordCheck(c=>({...c,error:password.value!==passwordCheck.value,error_msg:PasswordError.PASSWORD_CHECK_ERROR}));},[passwordCheck.value]);// 값이 변할때 회원가입 버튼 활성화\nuseEffect(()=>{let check=email.value!==\"\"&&!email.error&&nickname.value!==\"\"&&!nickname.error&&password.value!==\"\"&&!password.error&&passwordCheck.value!==\"\"&&passwordCheck.value===password.value;if(check)setSignupBtn(c=>({...c,active:true}));},[email.value,nickname.value,password.value,passwordCheck.value]);return/*#__PURE__*/_jsxs(\"div\",{className:\"page signup_page\",children:[/*#__PURE__*/_jsx(Authcode,{show:show,setShow:setShow,email:email.value,callback:account}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_form_container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"signup_text\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"signup_pwf_form\",onSubmit:submitSignup,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup_info_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup_input_box\",style:{border:`1px solid ${email.error?\"red\":\"gray\"}`},onFocus:()=>inputFocus(\"email\"),onBlur:()=>inputBlur(\"email\"),children:[/*#__PURE__*/_jsx(\"p\",{style:{top:email.value===\"\"&&email.active==false?\"calc(50% - var(--placeholder-font-size))\":\"7%\"},children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",spellCheck:\"false\",ref:emailRef,value:email.value,onChange:e=>setEmail(c=>({...c,value:e.target.value}))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup_error\",style:{display:email.error?\"flex\":\"none\"},children:email.error_msg})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_info_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup_input_box\",style:{border:`1px solid ${nickname.error?\"red\":\"gray\"}`},onFocus:()=>inputFocus(\"nickname\"),onBlur:()=>inputBlur(\"nickname\"),children:[/*#__PURE__*/_jsx(\"p\",{style:{top:nickname.value===\"\"&&nickname.active==false?\"calc(50% - var(--placeholder-font-size))\":\"7%\"},children:\"\\uB2C9\\uB124\\uC784\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",spellCheck:\"false\",ref:nicknameRef,value:nickname.value,onChange:e=>setNickname(c=>({...c,value:e.target.value}))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup_error\",style:{display:nickname.error?\"flex\":\"none\"},children:nickname.error_msg})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_info_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup_input_box\",style:{border:`1px solid ${password.error?\"red\":\"gray\"}`},onFocus:()=>inputFocus(\"password\"),onBlur:()=>inputBlur(\"password\"),children:[/*#__PURE__*/_jsx(\"p\",{style:{top:password.value===\"\"&&!password.active?\"calc(50% - var(--placeholder-font-size))\":\"7%\"},children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{type:password.show?\"text\":\"password\",value:password.value,ref:passwordRef,onChange:e=>setPassword(c=>({...c,value:e.target.value}))}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setPassword(c=>({...c,show:!c.show})),children:/*#__PURE__*/_jsx(\"i\",{className:`fa-solid fa-eye${password.show?\"\":\"-slash\"}`})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup_error\",style:{display:password.error?\"flex\":\"none\"},children:password.error_msg})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_info_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup_input_box\",style:{border:`1px solid ${passwordCheck.error?\"red\":\"gray\"}`},onFocus:()=>inputFocus(\"passwordCheck\"),onBlur:()=>setPasswordCheck(c=>({...c,active:c.value!==\"\",error:c.value===\"\"?false:password.value!==c.value})),children:[/*#__PURE__*/_jsx(\"p\",{style:{top:passwordCheck.value===\"\"&&!passwordCheck.active?\"calc(50% - var(--placeholder-font-size))\":\"7%\"},children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\"}),/*#__PURE__*/_jsx(\"input\",{type:passwordCheck.show?\"text\":\"password\",value:passwordCheck.value,disabled:password.value==\"\",ref:passwordCheckRef,onChange:e=>setPasswordCheck(c=>({...c,value:e.target.value}))}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setPasswordCheck(c=>({...c,show:!c.show})),children:/*#__PURE__*/_jsx(\"i\",{className:`fa-solid fa-eye${passwordCheck.show?\"\":\"-slash\"}`})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"signup_error\",style:{display:passwordCheck.error?\"flex\":\"none\"},children:passwordCheck.error_msg})]}),/*#__PURE__*/_jsx(\"button\",{className:\"signup_btn\",style:{backgroundColor:`var(--pwf-${signupBtn.active?\"blue\":\"gray\"})`},disabled:!signupBtn.active||signupBtn.loading,children:signupBtn.loading?\"...진행중\":\"회원가입\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_support_box\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uACC4\\uC815\\uC774 \\uC788\\uB2E4\\uBA74?\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"\\uB85C\\uADF8\\uC778\"}),\" \"]})]})]});};","map":{"version":3,"names":["useEffect","useRef","useState","Link","useNavigate","createFormData","user_service","AxiosError","PasswordError","emailValidate","nicknameValidate","passwordFormValid","Authcode","emitter","jsx","_jsx","jsxs","_jsxs","Signup","navigate","InputInitState","value","error","error_msg","show","active","BtnInitState","loading","emailRef","nicknameRef","passwordRef","passwordCheckRef","email","setEmail","nickname","setNickname","password","setPassword","passwordCheck","setPasswordCheck","signupBtn","setSignupBtn","setShow","signupError","path","msg","c","PASSWORD_FORM_ERROR","erorr","PASSWORD_CHECK_ERROR","account","window","location","href","err","alert","submitSignup","e","preventDefault","formdata","password_check","accountUser","emit","open","type","inputFocus","inputBlur","check","className","children","callback","onSubmit","style","border","onFocus","onBlur","top","spellCheck","ref","onChange","target","display","onClick","disabled","backgroundColor","to"],"sources":["C:/Users/ashh1/Desktop/project/PlayWithFriends/client/src/page/signup.tsx"],"sourcesContent":["// css\r\nimport \"../css/signup.css\";\r\nimport axios from \"axios\";\r\n\r\n// library\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { Form, Link, useNavigate } from \"react-router-dom\";\r\n\r\n// other file\r\nimport { createFormData } from \"../util/form\";\r\nimport { user_service } from \"../service/user.service\";\r\nimport { AxiosError } from \"../error/error\";\r\n\r\n// types\r\nimport { User } from \"../types/user\";\r\nimport {\r\n  SignupMessage,\r\n  EmailError,\r\n  PasswordError,\r\n  NicknameError,\r\n} from \"../types/auth\";\r\nimport { InputChange, FormSubmit } from \"../types/event\";\r\nimport { auth_service } from \"../service/auth.service\";\r\nimport {\r\n  emailValidate,\r\n  nicknameValidate,\r\n  passwordFormValid,\r\n} from \"../validation/auth\";\r\nimport { Authcode } from \"../components/modal/authcode\";\r\nimport { emitter } from \"../util/event\";\r\n\r\ninterface SignupInputProps {\r\n  value: string;\r\n  error: boolean;\r\n  error_msg: string;\r\n  show?: boolean;\r\n  active: boolean;\r\n}\r\n\r\ninterface SignupBtnProps {\r\n  active: boolean;\r\n  loading: boolean;\r\n}\r\n\r\ntype InputChecker = \"email\" | \"nickname\" | \"password\" | \"passwordCheck\";\r\n\r\nexport const Signup = () => {\r\n  let navigate = useNavigate();\r\n  const InputInitState = {\r\n    value: \"\",\r\n    error: false,\r\n    error_msg: \"\",\r\n    show: false,\r\n    active: false,\r\n  };\r\n  const BtnInitState = { active: false, loading: false };\r\n\r\n  let emailRef = useRef<HTMLInputElement | null>(null);\r\n  let nicknameRef = useRef<HTMLInputElement | null>(null);\r\n  let passwordRef = useRef<HTMLInputElement | null>(null);\r\n  let passwordCheckRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  let [email, setEmail] = useState<SignupInputProps>(InputInitState);\r\n  let [nickname, setNickname] = useState<SignupInputProps>(InputInitState);\r\n  let [password, setPassword] = useState<SignupInputProps>(InputInitState);\r\n  let [passwordCheck, setPasswordCheck] =\r\n    useState<SignupInputProps>(InputInitState);\r\n\r\n  let [signupBtn, setSignupBtn] = useState<SignupBtnProps>(BtnInitState);\r\n\r\n  // authcode\r\n  let [show, setShow] = useState<boolean>(false);\r\n\r\n  const signupError = (path: InputChecker, msg: string) => {\r\n    if (path == \"email\")\r\n      setEmail((c) => ({\r\n        ...c,\r\n        error: true,\r\n        error_msg: msg,\r\n      }));\r\n    else if (path == \"nickname\") {\r\n      setNickname((c) => ({\r\n        ...c,\r\n        error: true,\r\n        error_msg: msg,\r\n      }));\r\n    } else if (path == \"password\") {\r\n      setPassword((c) => ({\r\n        ...c,\r\n        error: true,\r\n        error_msg: PasswordError.PASSWORD_FORM_ERROR,\r\n      }));\r\n    } else {\r\n      setPasswordCheck((c) => ({\r\n        ...c,\r\n        erorr: true,\r\n        error_msg: PasswordError.PASSWORD_CHECK_ERROR,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const account = async () => {\r\n    try {\r\n      await user_service.account(\r\n        createFormData({\r\n          email: email.value,\r\n          nickname: nickname.value,\r\n          password: password.value,\r\n        })\r\n      );\r\n      window.location.href = \"/login\";\r\n    } catch (err) {\r\n      alert(err);\r\n    }\r\n  };\r\n\r\n  const submitSignup = async (e: FormSubmit) => {\r\n    e.preventDefault();\r\n    setSignupBtn((c) => ({ ...c, loading: true }));\r\n\r\n    try {\r\n      let formdata = createFormData({\r\n        email: email.value,\r\n        nickname: nickname.value,\r\n        password: password.value,\r\n        password_check: passwordCheck.value,\r\n      });\r\n\r\n      await user_service.accountUser(formdata);\r\n\r\n      emitter.emit(\"modal\", { open: true, type: \"authcode\" });\r\n      setShow(true);\r\n    } catch (err) {\r\n      let { path, msg } = AxiosError(err);\r\n      signupError(path, msg);\r\n    }\r\n    setSignupBtn((c) => ({ ...c, loading: false }));\r\n  };\r\n\r\n  let inputFocus = (type: InputChecker) => {\r\n    if (type == \"email\")\r\n      setEmail((c) => ({ ...c, active: true, error: false }));\r\n    else if (type == \"nickname\")\r\n      setNickname((c) => ({ ...c, active: true, error: false }));\r\n    else if (type == \"password\")\r\n      setPassword((c) => ({ ...c, active: true, error: false }));\r\n    else setPasswordCheck((c) => ({ ...c, active: true, error: false }));\r\n  };\r\n\r\n  let inputBlur = async (type: InputChecker) => {\r\n    try {\r\n      if (type == \"email\") {\r\n        setEmail((c) => ({ ...c, active: false }));\r\n        await emailValidate(email.value, false);\r\n      } else if (type == \"nickname\") {\r\n        setNickname((c) => ({ ...c, active: false }));\r\n        await nicknameValidate(nickname.value);\r\n      } else if (type == \"password\") {\r\n        setPassword((c) => ({ ...c, active: false }));\r\n        if (passwordFormValid(password.value))\r\n          throw { path: \"password\", msg: PasswordError.PASSWORD_FORM_ERROR };\r\n      }\r\n    } catch (err) {\r\n      let { path, msg } = AxiosError(err);\r\n      signupError(path, msg);\r\n    }\r\n  };\r\n\r\n  // 비밀번호 확인값 검증\r\n  useEffect(() => {\r\n    setPasswordCheck((c) => ({\r\n      ...c,\r\n      error: password.value !== passwordCheck.value,\r\n      error_msg: PasswordError.PASSWORD_CHECK_ERROR,\r\n    }));\r\n  }, [passwordCheck.value]);\r\n\r\n  // 값이 변할때 회원가입 버튼 활성화\r\n  useEffect(() => {\r\n    let check =\r\n      email.value !== \"\" &&\r\n      !email.error &&\r\n      nickname.value !== \"\" &&\r\n      !nickname.error &&\r\n      password.value !== \"\" &&\r\n      !password.error &&\r\n      passwordCheck.value !== \"\" &&\r\n      passwordCheck.value === password.value;\r\n    if (check)\r\n      setSignupBtn((c) => ({\r\n        ...c,\r\n        active: true,\r\n      }));\r\n  }, [email.value, nickname.value, password.value, passwordCheck.value]);\r\n\r\n  return (\r\n    <div className=\"page signup_page\">\r\n      <Authcode\r\n        show={show}\r\n        setShow={setShow}\r\n        email={email.value}\r\n        callback={account}\r\n      />\r\n\r\n      <div className=\"signup_form_container\">\r\n        <span className=\"signup_text\">회원가입</span>\r\n\r\n        <form className=\"signup_pwf_form\" onSubmit={submitSignup}>\r\n          {/* 이메일 */}\r\n          <div className=\"signup_info_container\">\r\n            <div\r\n              className=\"signup_input_box\"\r\n              style={{ border: `1px solid ${email.error ? \"red\" : \"gray\"}` }}\r\n              onFocus={() => inputFocus(\"email\")}\r\n              onBlur={() => inputBlur(\"email\")}\r\n            >\r\n              <p\r\n                style={{\r\n                  top:\r\n                    email.value === \"\" && email.active == false\r\n                      ? \"calc(50% - var(--placeholder-font-size))\"\r\n                      : \"7%\",\r\n                }}\r\n              >\r\n                이메일\r\n              </p>\r\n              <input\r\n                type=\"text\"\r\n                spellCheck=\"false\"\r\n                ref={emailRef}\r\n                value={email.value}\r\n                onChange={(e: InputChange) =>\r\n                  setEmail((c) => ({ ...c, value: e.target.value }))\r\n                }\r\n              />\r\n            </div>\r\n\r\n            <div\r\n              className=\"signup_error\"\r\n              style={{ display: email.error ? \"flex\" : \"none\" }}\r\n            >\r\n              {email.error_msg}\r\n            </div>\r\n          </div>\r\n\r\n          {/* 닉네임 */}\r\n          <div className=\"signup_info_container\">\r\n            <div\r\n              className=\"signup_input_box\"\r\n              style={{ border: `1px solid ${nickname.error ? \"red\" : \"gray\"}` }}\r\n              onFocus={() => inputFocus(\"nickname\")}\r\n              onBlur={() => inputBlur(\"nickname\")}\r\n            >\r\n              <p\r\n                style={{\r\n                  top:\r\n                    nickname.value === \"\" && nickname.active == false\r\n                      ? \"calc(50% - var(--placeholder-font-size))\"\r\n                      : \"7%\",\r\n                }}\r\n              >\r\n                닉네임\r\n              </p>\r\n              <input\r\n                type=\"text\"\r\n                spellCheck=\"false\"\r\n                ref={nicknameRef}\r\n                value={nickname.value}\r\n                onChange={(e: InputChange) =>\r\n                  setNickname((c) => ({ ...c, value: e.target.value }))\r\n                }\r\n              />\r\n            </div>\r\n\r\n            <div\r\n              className=\"signup_error\"\r\n              style={{ display: nickname.error ? \"flex\" : \"none\" }}\r\n            >\r\n              {nickname.error_msg}\r\n            </div>\r\n          </div>\r\n\r\n          {/* 비밀번호 */}\r\n          <div className=\"signup_info_container\">\r\n            <div\r\n              className=\"signup_input_box\"\r\n              style={{ border: `1px solid ${password.error ? \"red\" : \"gray\"}` }}\r\n              onFocus={() => inputFocus(\"password\")}\r\n              onBlur={() => inputBlur(\"password\")}\r\n            >\r\n              <p\r\n                style={{\r\n                  top:\r\n                    password.value === \"\" && !password.active\r\n                      ? \"calc(50% - var(--placeholder-font-size))\"\r\n                      : \"7%\",\r\n                }}\r\n              >\r\n                비밀번호\r\n              </p>\r\n              <input\r\n                type={password.show ? \"text\" : \"password\"}\r\n                value={password.value}\r\n                ref={passwordRef}\r\n                onChange={(e: InputChange) =>\r\n                  setPassword((c) => ({ ...c, value: e.target.value }))\r\n                }\r\n              />\r\n              <span\r\n                onClick={() => setPassword((c) => ({ ...c, show: !c.show }))}\r\n              >\r\n                <i\r\n                  className={`fa-solid fa-eye${password.show ? \"\" : \"-slash\"}`}\r\n                ></i>\r\n              </span>\r\n            </div>\r\n\r\n            <div\r\n              className=\"signup_error\"\r\n              style={{ display: password.error ? \"flex\" : \"none\" }}\r\n            >\r\n              {password.error_msg}\r\n            </div>\r\n          </div>\r\n\r\n          {/* 비밀번호 확인*/}\r\n          <div className=\"signup_info_container\">\r\n            <div\r\n              className=\"signup_input_box\"\r\n              style={{\r\n                border: `1px solid ${passwordCheck.error ? \"red\" : \"gray\"}`,\r\n              }}\r\n              onFocus={() => inputFocus(\"passwordCheck\")}\r\n              onBlur={() =>\r\n                setPasswordCheck((c) => ({\r\n                  ...c,\r\n                  active: c.value !== \"\",\r\n                  error: c.value === \"\" ? false : password.value !== c.value,\r\n                }))\r\n              }\r\n            >\r\n              <p\r\n                style={{\r\n                  top:\r\n                    passwordCheck.value === \"\" && !passwordCheck.active\r\n                      ? \"calc(50% - var(--placeholder-font-size))\"\r\n                      : \"7%\",\r\n                }}\r\n              >\r\n                비밀번호 확인\r\n              </p>\r\n              <input\r\n                type={passwordCheck.show ? \"text\" : \"password\"}\r\n                value={passwordCheck.value}\r\n                disabled={password.value == \"\"}\r\n                ref={passwordCheckRef}\r\n                onChange={(e: InputChange) =>\r\n                  setPasswordCheck((c) => ({ ...c, value: e.target.value }))\r\n                }\r\n              />\r\n              <span\r\n                onClick={() =>\r\n                  setPasswordCheck((c) => ({ ...c, show: !c.show }))\r\n                }\r\n              >\r\n                <i\r\n                  className={`fa-solid fa-eye${\r\n                    passwordCheck.show ? \"\" : \"-slash\"\r\n                  }`}\r\n                ></i>\r\n              </span>\r\n            </div>\r\n\r\n            <div\r\n              className=\"signup_error\"\r\n              style={{ display: passwordCheck.error ? \"flex\" : \"none\" }}\r\n            >\r\n              {passwordCheck.error_msg}\r\n            </div>\r\n          </div>\r\n          {/* 회원가입 버튼 */}\r\n          <button\r\n            className=\"signup_btn\"\r\n            style={{\r\n              backgroundColor: `var(--pwf-${\r\n                signupBtn.active ? \"blue\" : \"gray\"\r\n              })`,\r\n            }}\r\n            disabled={!signupBtn.active || signupBtn.loading}\r\n          >\r\n            {signupBtn.loading ? \"...진행중\" : \"회원가입\"}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"signup_support_box\">\r\n          <span>계정이 있다면?</span>\r\n          <Link to={\"/login\"}>로그인</Link>{\" \"}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}