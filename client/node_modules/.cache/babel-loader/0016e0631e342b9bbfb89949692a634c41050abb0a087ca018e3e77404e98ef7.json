{"ast":null,"code":"// css\nimport\"../css/pageheader.css\";import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{emitter}from\"../util/event\";import{useSelector}from\"react-redux\";import{user_service}from\"../service/userservice\";import{socketClient}from\"../util/socket\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const PageHeader=()=>{let navigate=useNavigate();let user=useSelector(state=>state.user);let[userOption,setUserOption]=useState(false);const logout=async()=>{try{await user_service.logout();socketClient.disconnect();navigate(\"/login\");}catch(err){throw err;}};return/*#__PURE__*/_jsxs(\"header\",{className:\"pwf_header\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"home_anchor\",children:\"PWF\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header_control\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pwf_friend_box\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"friend_btn\",onClick:()=>emitter.emit(\"modal\",{type:\"friend\",open:true}),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user-plus\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"friend_add_number\",style:{display:user.request_friends&&user.request_friends.length?\"flex\":\"none\"},children:user.request_friends&&user.request_friends.length?user.request_friends.length:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pwf_user_box\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pwf_user_btn\",onFocus:()=>setUserOption(true),onBlur:()=>setUserOption(false),children:/*#__PURE__*/_jsx(\"img\",{src:user.profile_img})}),/*#__PURE__*/_jsxs(\"div\",{className:\"check_box\",style:{display:userOption?\"flex\":\"none\"},children:[/*#__PURE__*/_jsxs(\"button\",{onMouseDown:()=>emitter.emit(\"modal\",{type:\"profile\",open:true}),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD504\\uB85C\\uD544\"})]}),/*#__PURE__*/_jsxs(\"button\",{onMouseDown:logout,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-right-from-bracket\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]})]})]})]})]});};","map":{"version":3,"names":["React","useState","Link","useNavigate","emitter","useSelector","user_service","socketClient","jsx","_jsx","jsxs","_jsxs","PageHeader","navigate","user","state","userOption","setUserOption","logout","disconnect","err","className","children","to","onClick","emit","type","open","style","display","request_friends","length","onFocus","onBlur","src","profile_img","onMouseDown"],"sources":["C:/Users/ashh1/Desktop/project/PlayWithFriends/client/src/components/pageHeader.tsx"],"sourcesContent":["// css\r\nimport { profile } from \"console\";\r\nimport \"../css/pageheader.css\";\r\n\r\nimport React, { memo, useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport Head from \"../image/head.jpg\";\r\nimport { emitter } from \"../util/event\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../context/store\";\r\nimport { user_service } from \"../service/userservice\";\r\nimport { socketClient } from \"../util/socket\";\r\n\r\nexport const PageHeader = () => {\r\n  let navigate = useNavigate();\r\n  let user = useSelector((state: RootState) => state.user);\r\n  let [userOption, setUserOption] = useState<boolean>(false);\r\n\r\n  const logout = async () => {\r\n    try {\r\n      await user_service.logout();\r\n      socketClient.disconnect();\r\n      navigate(\"/login\");\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"pwf_header\">\r\n      <span>\r\n        <Link to=\"/\" className=\"home_anchor\">\r\n          PWF\r\n        </Link>\r\n      </span>\r\n\r\n      <div className=\"header_control\">\r\n        {/* 친구추가 */}\r\n        <div className=\"pwf_friend_box\">\r\n          <button\r\n            className=\"friend_btn\"\r\n            onClick={() =>\r\n              emitter.emit(\"modal\", { type: \"friend\", open: true })\r\n            }\r\n          >\r\n            <i className=\"fa-solid fa-user-plus\"></i>\r\n          </button>\r\n\r\n          <span\r\n            className=\"friend_add_number\"\r\n            style={{\r\n              display:\r\n                user.request_friends && user.request_friends.length\r\n                  ? \"flex\"\r\n                  : \"none\",\r\n            }}\r\n          >\r\n            {user.request_friends && user.request_friends.length\r\n              ? user.request_friends.length\r\n              : \"\"}\r\n          </span>\r\n        </div>\r\n\r\n        {/* 유저 프로필 */}\r\n        <div className=\"pwf_user_box\">\r\n          <button\r\n            className=\"pwf_user_btn\"\r\n            onFocus={() => setUserOption(true)}\r\n            onBlur={() => setUserOption(false)}\r\n          >\r\n            <img src={user.profile_img} />\r\n          </button>\r\n\r\n          <div\r\n            className=\"check_box\"\r\n            style={{ display: userOption ? \"flex\" : \"none\" }}\r\n          >\r\n            <button\r\n              onMouseDown={() =>\r\n                emitter.emit(\"modal\", { type: \"profile\", open: true })\r\n              }\r\n            >\r\n              <i className=\"fa-solid fa-user\"></i>\r\n              <span>프로필</span>\r\n            </button>\r\n            <button onMouseDown={logout}>\r\n              <i className=\"fa-solid fa-right-from-bracket\"></i>\r\n              <span>로그아웃</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}