{"ast":null,"code":"// library\nimport { createSlice } from \"@reduxjs/toolkit\";\nimport { userAction } from \"../actions/userAction\";\n\n// type\n\nconst initialState = {\n  id: 0,\n  nickname: \"\",\n  profile_img: \"\",\n  email: \"\"\n};\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  // reducer\n  reducers: {\n    // onlineUpdate: (current: any, data: PayloadAction<User>) => {\n    //   let { nickname, online } = data.payload;\n    //   return {\n    //     ...current,\n    //     friends: current.friends.map((val: User) =>\n    //       val.nickname == nickname ? { ...val, online } : val\n    //     ),\n    //   };\n    // },\n\n    insertReceiver: (current, data) => {\n      let {\n        nickname,\n        profile_img,\n        online\n      } = data.payload;\n      return {\n        ...current,\n        friends: [...current.friends, data.payload]\n      };\n    },\n    userInit: current => current = initialState\n  },\n  // actions\n  extraReducers: builder => {\n    // 세션으로 유저 정보 가져오기\n    builder.addCase(userAction.getUserAction.fulfilled, (state, action) => {\n      let {\n        id,\n        email,\n        nickname,\n        profile_img\n      } = action.payload;\n      state.id = id;\n      state.email = email;\n      state.profile_img = profile_img;\n      state.nickname = nickname;\n    });\n  }\n});\nexport const {\n  insertReceiver,\n  userInit\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","userAction","initialState","id","nickname","profile_img","email","userSlice","name","reducers","insertReceiver","current","data","online","payload","friends","userInit","extraReducers","builder","addCase","getUserAction","fulfilled","state","action","actions","reducer"],"sources":["C:/Users/ashh1/Desktop/project/PlayWithFriends/client/src/redux/reducer/roomReducer.ts"],"sourcesContent":["// library\r\nimport { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nimport { userAction } from \"../actions/userAction\";\r\n\r\n// type\r\nimport { User } from \"../../types/user\";\r\n\r\nconst initialState: User = {\r\n  id: 0,\r\n  nickname: \"\",\r\n  profile_img: \"\",\r\n  email: \"\",\r\n};\r\n\r\nconst userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState, // reducer\r\n  reducers: {\r\n    // onlineUpdate: (current: any, data: PayloadAction<User>) => {\r\n    //   let { nickname, online } = data.payload;\r\n    //   return {\r\n    //     ...current,\r\n    //     friends: current.friends.map((val: User) =>\r\n    //       val.nickname == nickname ? { ...val, online } : val\r\n    //     ),\r\n    //   };\r\n    // },\r\n\r\n    insertReceiver: (current: any, data: PayloadAction<User>) => {\r\n      let { nickname, profile_img, online } = data.payload;\r\n\r\n      return { ...current, friends: [...current.friends, data.payload] };\r\n    },\r\n\r\n    userInit: (current: any) => (current = initialState),\r\n  },\r\n\r\n  // actions\r\n  extraReducers: (builder) => {\r\n    // 세션으로 유저 정보 가져오기\r\n    builder.addCase(userAction.getUserAction.fulfilled, (state, action) => {\r\n      let { id, email, nickname, profile_img } = action.payload;\r\n\r\n      state.id = id;\r\n      state.email = email;\r\n      state.profile_img = profile_img;\r\n      state.nickname = nickname;\r\n    });\r\n  },\r\n});\r\n\r\nexport const { insertReceiver, userInit } = userSlice.actions;\r\nexport default userSlice.reducer;\r\n"],"mappings":"AAAA;AACA,SAASA,WAAW,QAAuB,kBAAkB;AAE7D,SAASC,UAAU,QAAQ,uBAAuB;;AAElD;;AAGA,MAAMC,YAAkB,GAAG;EACzBC,EAAE,EAAE,CAAC;EACLC,QAAQ,EAAE,EAAE;EACZC,WAAW,EAAE,EAAE;EACfC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,SAAS,GAAGP,WAAW,CAAC;EAC5BQ,IAAI,EAAE,MAAM;EACZN,YAAY;EAAE;EACdO,QAAQ,EAAE;IACR;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEAC,cAAc,EAAEA,CAACC,OAAY,EAAEC,IAAyB,KAAK;MAC3D,IAAI;QAAER,QAAQ;QAAEC,WAAW;QAAEQ;MAAO,CAAC,GAAGD,IAAI,CAACE,OAAO;MAEpD,OAAO;QAAE,GAAGH,OAAO;QAAEI,OAAO,EAAE,CAAC,GAAGJ,OAAO,CAACI,OAAO,EAAEH,IAAI,CAACE,OAAO;MAAE,CAAC;IACpE,CAAC;IAEDE,QAAQ,EAAGL,OAAY,IAAMA,OAAO,GAAGT;EACzC,CAAC;EAED;EACAe,aAAa,EAAGC,OAAO,IAAK;IAC1B;IACAA,OAAO,CAACC,OAAO,CAAClB,UAAU,CAACmB,aAAa,CAACC,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACrE,IAAI;QAAEpB,EAAE;QAAEG,KAAK;QAAEF,QAAQ;QAAEC;MAAY,CAAC,GAAGkB,MAAM,CAACT,OAAO;MAEzDQ,KAAK,CAACnB,EAAE,GAAGA,EAAE;MACbmB,KAAK,CAAChB,KAAK,GAAGA,KAAK;MACnBgB,KAAK,CAACjB,WAAW,GAAGA,WAAW;MAC/BiB,KAAK,CAAClB,QAAQ,GAAGA,QAAQ;IAC3B,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEM,cAAc;EAAEM;AAAS,CAAC,GAAGT,SAAS,CAACiB,OAAO;AAC7D,eAAejB,SAAS,CAACkB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}