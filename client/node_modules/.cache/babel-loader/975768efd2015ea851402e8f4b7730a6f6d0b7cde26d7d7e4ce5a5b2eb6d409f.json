{"ast":null,"code":"// css\nimport\"./css/App.css\";import React,{useEffect}from\"react\";import{Route,Routes,useLocation,useNavigate}from\"react-router-dom\";import{userAction}from\"./context/actions/userAction\";import{useDispatch}from\"react-redux\";// page\nimport{Home}from\"./page/home\";import{Notfound}from\"./page/notfound\";import{StreamRoom}from\"./page/streamroom\";import{Login}from\"./page/login\";import{Signup}from\"./page/signup\";import{useSelector}from\"react-redux\";import{Modal}from\"./page/modal\";import{Profile}from\"./page/profile\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){let dispatch=useDispatch();let user=useSelector(state=>state.user);let location=useLocation();let navigate=useNavigate();// 로그인이 안 되어 있으면 로그인 페이지로\nuseEffect(()=>{let test=()=>{dispatch(userAction.getUserAction()).unwrap().catch(err=>{let path=location.pathname;if(path===\"/login\"||path===\"/signup\"||path===\"/authcode/fcipras8694@naver.com\")return;navigate(\"/login\");});};if(!user.id)test();},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Modal,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/room/:id\",element:/*#__PURE__*/_jsx(StreamRoom,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:email\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Notfound,{})})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","Route","Routes","useLocation","useNavigate","userAction","useDispatch","Home","Notfound","StreamRoom","Login","Signup","useSelector","Modal","Profile","jsx","_jsx","jsxs","_jsxs","App","dispatch","user","state","location","navigate","test","getUserAction","unwrap","catch","err","path","pathname","id","className","children","element"],"sources":["C:/Users/ashh1/Desktop/project/PlayWithFriends/client/src/App.tsx"],"sourcesContent":["// css\nimport \"./css/App.css\";\n\nimport React, { useEffect, useMemo } from \"react\";\nimport {\n  BrowserRouter,\n  Route,\n  Routes,\n  useLocation,\n  useNavigate,\n} from \"react-router-dom\";\n\nimport { userAction } from \"./context/actions/userAction\";\nimport { useDispatch } from \"react-redux\";\nimport { AppDispatch, RootState } from \"./context/store\";\n\n// page\nimport { Home } from \"./page/home\";\nimport { Notfound } from \"./page/notfound\";\nimport { StreamRoom } from \"./page/streamroom\";\nimport { Login } from \"./page/login\";\nimport { Signup } from \"./page/signup\";\nimport { useSelector } from \"react-redux\";\nimport { Modal } from \"./page/modal\";\nimport { Profile } from \"./page/profile\";\nimport { Authcode } from \"./components/modal/authcode\";\n\nfunction App() {\n  let dispatch = useDispatch<AppDispatch>();\n  let user = useSelector((state: RootState) => state.user);\n  let location = useLocation();\n  let navigate = useNavigate();\n\n  // 로그인이 안 되어 있으면 로그인 페이지로\n  useEffect(() => {\n    let test = () => {\n      dispatch(userAction.getUserAction())\n        .unwrap()\n        .catch((err: any) => {\n          let path = location.pathname;\n          if (\n            path === \"/login\" ||\n            path === \"/signup\" ||\n            path === \"/authcode/fcipras8694@naver.com\"\n          )\n            return;\n          navigate(\"/login\");\n        });\n    };\n    if (!user.id) test();\n  }, [dispatch]);\n\n  return (\n    <div className=\"App\">\n      <Modal />\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/room/:id\" element={<StreamRoom />} />\n        <Route path=\"/login\" element={<Login />} />\n        <Route path=\"/profile/:email\" element={<Profile />} />\n        <Route path=\"/signup\" element={<Signup />} />\n        <Route path=\"*\" element={<Notfound />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA;AACA,MAAO,eAAe,CAEtB,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAiB,OAAO,CACjD,OAEEC,KAAK,CACLC,MAAM,CACNC,WAAW,CACXC,WAAW,KACN,kBAAkB,CAEzB,OAASC,UAAU,KAAQ,8BAA8B,CACzD,OAASC,WAAW,KAAQ,aAAa,CAGzC;AACA,OAASC,IAAI,KAAQ,aAAa,CAClC,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,UAAU,KAAQ,mBAAmB,CAC9C,OAASC,KAAK,KAAQ,cAAc,CACpC,OAASC,MAAM,KAAQ,eAAe,CACtC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,KAAK,KAAQ,cAAc,CACpC,OAASC,OAAO,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGzC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,GAAI,CAAAC,QAAQ,CAAGd,WAAW,CAAc,CAAC,CACzC,GAAI,CAAAe,IAAI,CAAGT,WAAW,CAAEU,KAAgB,EAAKA,KAAK,CAACD,IAAI,CAAC,CACxD,GAAI,CAAAE,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAC5B,GAAI,CAAAqB,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAE5B;AACAJ,SAAS,CAAC,IAAM,CACd,GAAI,CAAAyB,IAAI,CAAGA,CAAA,GAAM,CACfL,QAAQ,CAACf,UAAU,CAACqB,aAAa,CAAC,CAAC,CAAC,CACjCC,MAAM,CAAC,CAAC,CACRC,KAAK,CAAEC,GAAQ,EAAK,CACnB,GAAI,CAAAC,IAAI,CAAGP,QAAQ,CAACQ,QAAQ,CAC5B,GACED,IAAI,GAAK,QAAQ,EACjBA,IAAI,GAAK,SAAS,EAClBA,IAAI,GAAK,iCAAiC,CAE1C,OACFN,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CACD,GAAI,CAACH,IAAI,CAACW,EAAE,CAAEP,IAAI,CAAC,CAAC,CACtB,CAAC,CAAE,CAACL,QAAQ,CAAC,CAAC,CAEd,mBACEF,KAAA,QAAKe,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBlB,IAAA,CAACH,KAAK,GAAE,CAAC,cACTK,KAAA,CAAChB,MAAM,EAAAgC,QAAA,eACLlB,IAAA,CAACf,KAAK,EAAC6B,IAAI,CAAC,GAAG,CAACK,OAAO,cAAEnB,IAAA,CAACT,IAAI,GAAE,CAAE,CAAE,CAAC,cACrCS,IAAA,CAACf,KAAK,EAAC6B,IAAI,CAAC,WAAW,CAACK,OAAO,cAAEnB,IAAA,CAACP,UAAU,GAAE,CAAE,CAAE,CAAC,cACnDO,IAAA,CAACf,KAAK,EAAC6B,IAAI,CAAC,QAAQ,CAACK,OAAO,cAAEnB,IAAA,CAACN,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3CM,IAAA,CAACf,KAAK,EAAC6B,IAAI,CAAC,iBAAiB,CAACK,OAAO,cAAEnB,IAAA,CAACF,OAAO,GAAE,CAAE,CAAE,CAAC,cACtDE,IAAA,CAACf,KAAK,EAAC6B,IAAI,CAAC,SAAS,CAACK,OAAO,cAAEnB,IAAA,CAACL,MAAM,GAAE,CAAE,CAAE,CAAC,cAC7CK,IAAA,CAACf,KAAK,EAAC6B,IAAI,CAAC,GAAG,CAACK,OAAO,cAAEnB,IAAA,CAACR,QAAQ,GAAE,CAAE,CAAE,CAAC,EACnC,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAAW,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}