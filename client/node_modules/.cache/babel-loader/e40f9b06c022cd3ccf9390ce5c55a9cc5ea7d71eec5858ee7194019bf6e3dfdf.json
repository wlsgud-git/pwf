{"ast":null,"code":"import { io } from \"socket.io-client\";\nimport { insertReceiver, onlineUpdate } from \"../context/reducer/userReducer\";\nexport const socketClient = io(\"http://localhost:5000\", {\n  reconnection: true,\n  reconnectionAttempts: 5,\n  reconnectionDelay: 1000,\n  withCredentials: true,\n  autoConnect: false,\n  extraHeaders: {\n    \"my-custom-header\": \"abcd\"\n  }\n});\nexport const userSocket = user => {\n  socketClient.auth = {\n    user\n  };\n  socketClient.connect();\n  socket.on(\"online friend\", data => {\n    dispatch(onlineUpdate(data));\n  });\n  socket.on(\"receiver data\", receiver => {\n    dispatch(insertReceiver(receiver));\n  });\n};\nexport const socketAboutFriend = (socket, dispatch) => {};","map":{"version":3,"names":["io","insertReceiver","onlineUpdate","socketClient","reconnection","reconnectionAttempts","reconnectionDelay","withCredentials","autoConnect","extraHeaders","userSocket","user","auth","connect","socket","on","data","dispatch","receiver","socketAboutFriend"],"sources":["C:/Users/ashh1/Desktop/project/PlayWithFriends/client/src/util/socket.ts"],"sourcesContent":["import { io, Socket } from \"socket.io-client\";\r\nimport { User, FriendOnlineStatus } from \"../types/user\";\r\nimport { userAction } from \"../context/actions/userAction\";\r\nimport { AppDispatch } from \"../context/store\";\r\nimport { insertReceiver, onlineUpdate } from \"../context/reducer/userReducer\";\r\n\r\nexport const socketClient: Socket = io(\"http://localhost:5000\", {\r\n  reconnection: true,\r\n  reconnectionAttempts: 5,\r\n  reconnectionDelay: 1000,\r\n  withCredentials: true,\r\n  autoConnect: false,\r\n  extraHeaders: {\r\n    \"my-custom-header\": \"abcd\",\r\n  },\r\n});\r\n\r\nexport const userSocket = (user: User) => {\r\n  socketClient.auth = {\r\n    user,\r\n  };\r\n  socketClient.connect();\r\n\r\n  socket.on(\"online friend\", (data: User) => {\r\n    dispatch(onlineUpdate(data));\r\n  });\r\n\r\n  socket.on(\"receiver data\", (receiver: User) => {\r\n    dispatch(insertReceiver(receiver));\r\n  });\r\n};\r\n\r\nexport const socketAboutFriend = (socket: Socket, dispatch: AppDispatch) => {};\r\n"],"mappings":"AAAA,SAASA,EAAE,QAAgB,kBAAkB;AAI7C,SAASC,cAAc,EAAEC,YAAY,QAAQ,gCAAgC;AAE7E,OAAO,MAAMC,YAAoB,GAAGH,EAAE,CAAC,uBAAuB,EAAE;EAC9DI,YAAY,EAAE,IAAI;EAClBC,oBAAoB,EAAE,CAAC;EACvBC,iBAAiB,EAAE,IAAI;EACvBC,eAAe,EAAE,IAAI;EACrBC,WAAW,EAAE,KAAK;EAClBC,YAAY,EAAE;IACZ,kBAAkB,EAAE;EACtB;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,UAAU,GAAIC,IAAU,IAAK;EACxCR,YAAY,CAACS,IAAI,GAAG;IAClBD;EACF,CAAC;EACDR,YAAY,CAACU,OAAO,CAAC,CAAC;EAEtBC,MAAM,CAACC,EAAE,CAAC,eAAe,EAAGC,IAAU,IAAK;IACzCC,QAAQ,CAACf,YAAY,CAACc,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC;EAEFF,MAAM,CAACC,EAAE,CAAC,eAAe,EAAGG,QAAc,IAAK;IAC7CD,QAAQ,CAAChB,cAAc,CAACiB,QAAQ,CAAC,CAAC;EACpC,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMC,iBAAiB,GAAGA,CAACL,MAAc,EAAEG,QAAqB,KAAK,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}