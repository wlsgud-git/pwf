{"ast":null,"code":"// css\nimport\"../css/home.css\";import{emitter}from\"../util/event\";import{lazy,Suspense,useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";// component\nimport{PageHeader}from\"../components/pageHeader\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyFriends=/*#__PURE__*/lazy(()=>import(\"../components/myFriend\").then(_ref=>{let{MyFriends}=_ref;return{default:MyFriends};}));const StreamRoomLi=/*#__PURE__*/lazy(()=>import(\"../components/roomLi\").then(_ref2=>{let{StreamRoomLi}=_ref2;return{default:StreamRoomLi};}));export const Home=()=>{let dispatch=useDispatch();let user=useSelector(state=>state.user);let[time,settime]=useState(10);function minus(){let inter=setInterval(()=>{if(time>0)settime(c=>c-1);},1000);return()=>{clearInterval(inter);};}useEffect(()=>{minus();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"page home_page\",children:[/*#__PURE__*/_jsx(PageHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"pwf_content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"test\",children:time}),/*#__PURE__*/_jsx(\"button\",{onClick:minus,children:\"click\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"stream_room_lists\",children:[user.stream_room&&user.stream_room.length?user.stream_room.map(val=>/*#__PURE__*/_jsx(StreamRoomLi,{data:val})):\"\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>emitter.emit(\"modal\",{type:\"stream\",open:true}),children:\"\\uBC29\\uB9CC\\uB4E4\\uAE30\"})]}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"loading...\"}),children:/*#__PURE__*/_jsx(MyFriends,{})})]})]});};","map":{"version":3,"names":["emitter","lazy","Suspense","useEffect","useState","useDispatch","useSelector","PageHeader","jsx","_jsx","jsxs","_jsxs","MyFriends","then","_ref","default","StreamRoomLi","_ref2","Home","dispatch","user","state","time","settime","minus","inter","setInterval","c","clearInterval","className","children","onClick","stream_room","length","map","val","data","emit","type","open","fallback"],"sources":["C:/Users/ashh1/Desktop/project/PlayWithFriends/client/src/page/home.tsx"],"sourcesContent":["// css\r\nimport \"../css/home.css\";\r\n\r\nimport { emitter } from \"../util/event\";\r\nimport { lazy, Suspense, useEffect, useMemo, useState } from \"react\";\r\nimport { AppDispatch, RootState } from \"../context/store\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { userAction } from \"../context/actions/userAction\";\r\nimport { socketClient, userSocket } from \"../util/socket\";\r\n\r\n// component\r\nimport { PageHeader } from \"../components/pageHeader\";\r\n\r\nconst MyFriends = lazy(() =>\r\n  import(\"../components/myFriend\").then(({ MyFriends }) => ({\r\n    default: MyFriends,\r\n  }))\r\n);\r\nconst StreamRoomLi = lazy(() =>\r\n  import(\"../components/roomLi\").then(({ StreamRoomLi }) => ({\r\n    default: StreamRoomLi,\r\n  }))\r\n);\r\n\r\nexport const Home = () => {\r\n  let dispatch = useDispatch<AppDispatch>();\r\n  let user = useSelector((state: RootState) => state.user);\r\n\r\n  let [time, settime] = useState(10);\r\n\r\n  function minus() {\r\n    let inter = setInterval(() => {\r\n      if (time > 0) settime((c) => c - 1);\r\n    }, 1000);\r\n\r\n    return () => {\r\n      clearInterval(inter);\r\n    };\r\n  }\r\n\r\n  useEffect(() => {\r\n    minus();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"page home_page\">\r\n      {/* header */}\r\n      <PageHeader />\r\n\r\n      {/* content */}\r\n      <div className=\"pwf_content\">\r\n        <span className=\"test\">{time}</span>\r\n        <button onClick={minus}>click</button>\r\n        {/* 내가 참가자인 방 모음 */}\r\n        <ul className=\"stream_room_lists\">\r\n          {user.stream_room && user.stream_room.length\r\n            ? user.stream_room.map((val) => <StreamRoomLi data={val} />)\r\n            : \"\"}\r\n          <button\r\n            onClick={() =>\r\n              emitter.emit(\"modal\", { type: \"stream\", open: true })\r\n            }\r\n          >\r\n            방만들기\r\n          </button>\r\n\r\n          {/* {Object.entries(test).map(([id, info]))} */}\r\n        </ul>\r\n        {/* 내 친구 리스트 */}\r\n        <Suspense fallback={<div>loading...</div>}>\r\n          <MyFriends />\r\n        </Suspense>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"AAAA;AACA,MAAO,iBAAiB,CAExB,OAASA,OAAO,KAAQ,eAAe,CACvC,OAASC,IAAI,CAAEC,QAAQ,CAAEC,SAAS,CAAWC,QAAQ,KAAQ,OAAO,CAEpE,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAItD;AACA,OAASC,UAAU,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,KAAM,CAAAC,SAAS,cAAGX,IAAI,CAAC,IACrB,MAAM,CAAC,wBAAwB,CAAC,CAACY,IAAI,CAACC,IAAA,MAAC,CAAEF,SAAU,CAAC,CAAAE,IAAA,OAAM,CACxDC,OAAO,CAAEH,SACX,CAAC,EAAC,CACJ,CAAC,CACD,KAAM,CAAAI,YAAY,cAAGf,IAAI,CAAC,IACxB,MAAM,CAAC,sBAAsB,CAAC,CAACY,IAAI,CAACI,KAAA,MAAC,CAAED,YAAa,CAAC,CAAAC,KAAA,OAAM,CACzDF,OAAO,CAAEC,YACX,CAAC,EAAC,CACJ,CAAC,CAED,MAAO,MAAM,CAAAE,IAAI,CAAGA,CAAA,GAAM,CACxB,GAAI,CAAAC,QAAQ,CAAGd,WAAW,CAAc,CAAC,CACzC,GAAI,CAAAe,IAAI,CAAGd,WAAW,CAAEe,KAAgB,EAAKA,KAAK,CAACD,IAAI,CAAC,CAExD,GAAI,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAElC,QAAS,CAAAoB,KAAKA,CAAA,CAAG,CACf,GAAI,CAAAC,KAAK,CAAGC,WAAW,CAAC,IAAM,CAC5B,GAAIJ,IAAI,CAAG,CAAC,CAAEC,OAAO,CAAEI,CAAC,EAAKA,CAAC,CAAG,CAAC,CAAC,CACrC,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAM,CACXC,aAAa,CAACH,KAAK,CAAC,CACtB,CAAC,CACH,CAEAtB,SAAS,CAAC,IAAM,CACdqB,KAAK,CAAC,CAAC,CACT,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEb,KAAA,QAAKkB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE7BrB,IAAA,CAACF,UAAU,GAAE,CAAC,cAGdI,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrB,IAAA,SAAMoB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAER,IAAI,CAAO,CAAC,cACpCb,IAAA,WAAQsB,OAAO,CAAEP,KAAM,CAAAM,QAAA,CAAC,OAAK,CAAQ,CAAC,cAEtCnB,KAAA,OAAIkB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAC9BV,IAAI,CAACY,WAAW,EAAIZ,IAAI,CAACY,WAAW,CAACC,MAAM,CACxCb,IAAI,CAACY,WAAW,CAACE,GAAG,CAAEC,GAAG,eAAK1B,IAAA,CAACO,YAAY,EAACoB,IAAI,CAAED,GAAI,CAAE,CAAC,CAAC,CAC1D,EAAE,cACN1B,IAAA,WACEsB,OAAO,CAAEA,CAAA,GACP/B,OAAO,CAACqC,IAAI,CAAC,OAAO,CAAE,CAAEC,IAAI,CAAE,QAAQ,CAAEC,IAAI,CAAE,IAAK,CAAC,CACrD,CAAAT,QAAA,CACF,0BAED,CAAQ,CAAC,EAGP,CAAC,cAELrB,IAAA,CAACP,QAAQ,EAACsC,QAAQ,cAAE/B,IAAA,QAAAqB,QAAA,CAAK,YAAU,CAAK,CAAE,CAAAA,QAAA,cACxCrB,IAAA,CAACG,SAAS,GAAE,CAAC,CACL,CAAC,EACR,CAAC,EACH,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}