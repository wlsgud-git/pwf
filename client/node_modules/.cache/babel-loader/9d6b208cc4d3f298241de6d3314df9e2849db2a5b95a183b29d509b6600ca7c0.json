{"ast":null,"code":"import\"../css/profile.css\";import{PageHeader}from\"../components/pageHeader\";import{useSelector}from\"react-redux\";import{emitter}from\"../util/event\";import{useEffect,useRef,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Profile=()=>{let user=useSelector(state=>state.user);// ref\nlet profileFileRef=useRef(null);// state\nlet[profileSrc,setProfileSrc]=useState(\"\");useEffect(()=>{setProfileSrc(user.profile_img);},[user]);let profilePreview=async e=>{var _file_value;let file=e.target.files;let file_value;if(file&&file.length>0)file_value=file[0];if(!((_file_value=file_value)!==null&&_file_value!==void 0&&_file_value.type.startsWith(\"image/\"))){alert(\"이미지만 업로드 가능합니다.\");return;}const reader=new FileReader();reader.onloadend=()=>{setProfileSrc(reader.result);};reader.readAsDataURL(file_value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"page profile_page\",children:[/*#__PURE__*/_jsx(PageHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_content_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile_infobox\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"profile_label\",children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_content_box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile_content\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile_content_inputbox\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:user===null||user===void 0?void 0:user.email})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile_content_footer\",children:/*#__PURE__*/_jsx(\"button\",{disabled:true,style:{cursor:\"not-allowed\"},children:\"\\uBCC0\\uACBD\\uD558\\uAE30\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_infobox\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"profile_label\",children:\"\\uD504\\uB85C\\uD544\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_content_box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile_content\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD504\\uB85C\\uD544\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_content_inputbox\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"profile_img_box\",children:/*#__PURE__*/_jsx(\"img\",{src:profileSrc})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:profileFileRef,style:{display:\"none\"},onChange:profilePreview}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"\\uC0AC\\uC9C4\\uC120\\uD0DD\",onClick:()=>{var _profileFileRef$curre;return(_profileFileRef$curre=profileFileRef.current)===null||_profileFileRef$curre===void 0?void 0:_profileFileRef$curre.click();}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile_content_footer\",children:/*#__PURE__*/_jsx(\"button\",{children:\"\\uBCC0\\uACBD\\uD558\\uAE30\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_infobox\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"profile_label\",children:\"\\uB2C9\\uB124\\uC784\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_content_box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile_content\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uB2C9\\uB124\\uC784\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile_content_inputbox\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:user.nickname})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile_content_footer\",children:/*#__PURE__*/_jsx(\"button\",{children:\"\\uBCC0\\uACBD\\uD558\\uAE30\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_side_box pw_change_alert\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB294 \\uB3C4\\uB09C\\uBC29\\uC9C0, \\uBCF4\\uC548\\uC124\\uC815\\uC744 \\uC704\\uD558\\uC5EC 3\\uAC1C\\uC6D4~6\\uAC1C\\uC6D4 \\uC0AC\\uC774\\uC5D0 \\uC8FC\\uAE30\\uC801\\uC73C\\uB85C \\uBCC0\\uACBD\\uD558\\uB294 \\uAC83\\uC774 \\uC548\\uC804\\uD569\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>emitter.emit(\"modal\",{type:\"password\",open:true}),children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uBCC0\\uACBD\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_side_box account_delete_alert\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\uD68C\\uC6D0 \\uD0C8\\uD1F4\\uC2DC \\uAE30\\uC874 \\uACB0\\uC81C \\uBC0F \\uC815\\uBCF4\\uB294 \\uBAA8\\uB450 \\uC5C6\\uC5B4\\uC9C0\\uAC8C \\uB429\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"button\",{children:\"\\uD68C\\uC6D0 \\uD0C8\\uD1F4\"})]})]})]});};","map":{"version":3,"names":["PageHeader","useSelector","emitter","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","Profile","user","state","profileFileRef","profileSrc","setProfileSrc","profile_img","profilePreview","e","_file_value","file","target","files","file_value","length","type","startsWith","alert","reader","FileReader","onloadend","result","readAsDataURL","className","children","htmlFor","value","email","disabled","style","cursor","src","ref","display","onChange","onClick","_profileFileRef$curre","current","click","placeholder","nickname","emit","open"],"sources":["C:/Users/ashh1/Desktop/project/PlayWithFriends/client/src/page/profile.tsx"],"sourcesContent":["import \"../css/profile.css\";\r\n\r\nimport { PageHeader } from \"../components/pageHeader\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../context/store\";\r\nimport { emitter } from \"../util/event\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { InputChange } from \"../types/event\";\r\n\r\nexport const Profile = () => {\r\n  let user = useSelector((state: RootState) => state.user);\r\n\r\n  // ref\r\n  let profileFileRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  // state\r\n  let [profileSrc, setProfileSrc] = useState<any>(\"\");\r\n\r\n  useEffect(() => {\r\n    setProfileSrc(user.profile_img!);\r\n  }, [user]);\r\n\r\n  let profilePreview = async (e: InputChange) => {\r\n    let file = e.target.files;\r\n    let file_value;\r\n\r\n    if (file && file.length > 0) file_value = file[0];\r\n    if (!file_value?.type.startsWith(\"image/\")) {\r\n      alert(\"이미지만 업로드 가능합니다.\");\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.onloadend = () => {\r\n      setProfileSrc(reader.result);\r\n    };\r\n    reader.readAsDataURL(file_value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"page profile_page\">\r\n      {/* header */}\r\n      <PageHeader />\r\n\r\n      {/* content */}\r\n      <div className=\"profile_content_container\">\r\n        {/* 이메일 */}\r\n        <div className=\"profile_infobox\">\r\n          <label htmlFor=\"email\" className=\"profile_label\">\r\n            이메일\r\n          </label>\r\n          <div className=\"profile_content_box\">\r\n            <div className=\"profile_content\">\r\n              <span>이메일</span>\r\n              <div className=\"profile_content_inputbox\">\r\n                <input type=\"text\" value={user?.email} />\r\n              </div>\r\n            </div>\r\n            <div className=\"profile_content_footer\">\r\n              <button disabled style={{ cursor: \"not-allowed\" }}>\r\n                변경하기\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* 프로필 */}\r\n        <div className=\"profile_infobox\">\r\n          <label htmlFor=\"email\" className=\"profile_label\">\r\n            프로필\r\n          </label>\r\n          <div className=\"profile_content_box\">\r\n            <div className=\"profile_content\">\r\n              <span>프로필</span>\r\n              <div className=\"profile_content_inputbox\">\r\n                <span className=\"profile_img_box\">\r\n                  <img src={profileSrc} />\r\n                </span>\r\n                <input\r\n                  type=\"file\"\r\n                  ref={profileFileRef}\r\n                  style={{ display: \"none\" }}\r\n                  onChange={profilePreview}\r\n                />\r\n                <input\r\n                  type=\"button\"\r\n                  value=\"사진선택\"\r\n                  onClick={() => profileFileRef.current?.click()}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"profile_content_footer\">\r\n              <button>변경하기</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* 닉네임 */}\r\n        <div className=\"profile_infobox\">\r\n          <label htmlFor=\"email\" className=\"profile_label\">\r\n            닉네임\r\n          </label>\r\n          <div className=\"profile_content_box\">\r\n            <div className=\"profile_content\">\r\n              <span>닉네임</span>\r\n              <div className=\"profile_content_inputbox\">\r\n                <input type=\"text\" placeholder={user.nickname} />\r\n              </div>\r\n            </div>\r\n            <div className=\"profile_content_footer\">\r\n              <button>변경하기</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"profile_side_box pw_change_alert\">\r\n          <div>\r\n            비밀번호는 도난방지, 보안설정을 위하여 3개월~6개월 사이에 주기적으로\r\n            변경하는 것이 안전합니다.\r\n          </div>\r\n          <button\r\n            onClick={() =>\r\n              emitter.emit(\"modal\", { type: \"password\", open: true })\r\n            }\r\n          >\r\n            비밀번호 변경\r\n          </button>\r\n        </div>\r\n        <div className=\"profile_side_box account_delete_alert\">\r\n          <div>회원 탈퇴시 기존 결제 및 정보는 모두 없어지게 됩니다.</div>\r\n          <button>회원 탈퇴</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}