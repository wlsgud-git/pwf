{"ast":null,"code":"// css\nimport\"../css/pageheader.css\";import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{emitter}from\"../util/event\";import{useSelector}from\"react-redux\";import{user_service}from\"../service/userservice\";import{socketClient}from\"../util/socket\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export const PageHeader=()=>{let navigate=useNavigate();let user=useSelector(state=>state.user);let[userOption,setUserOption]=useState(false);const logout=async()=>{try{await user_service.logout();socketClient.disconnect();navigate(\"/login\");}catch(err){throw err;}};return/*#__PURE__*/_jsxs(\"header\",{className:\"pwf_header\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"home_anchor\",children:[\"PWF \",user.nickname]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header_control\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pwf_friend_box\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"friend_btn\",onClick:()=>emitter.emit(\"modal\",{type:\"friend\",open:true}),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user-plus\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"friend_add_number\",style:{display:user.request_friends&&user.request_friends.length?\"flex\":\"none\"},children:user.request_friends&&user.request_friends.length?user.request_friends.length:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pwf_user_box\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pwf_user_btn\",onFocus:()=>setUserOption(true),onBlur:()=>setUserOption(false),children:/*#__PURE__*/_jsx(\"img\",{src:user.profile_img})}),/*#__PURE__*/_jsxs(\"div\",{className:\"check_box\",style:{display:userOption?\"flex\":\"none\"},children:[/*#__PURE__*/_jsx(\"button\",{onMouseDown:()=>emitter.emit(\"modal\",\"profile\"),children:\"\\uB0B4 \\uD504\\uB85C\\uD544\"}),/*#__PURE__*/_jsx(\"button\",{onMouseDown:logout,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]})]})]})]});};","map":{"version":3,"names":["React","useState","Link","useNavigate","emitter","useSelector","user_service","socketClient","jsxs","_jsxs","jsx","_jsx","PageHeader","navigate","user","state","userOption","setUserOption","logout","disconnect","err","className","children","to","nickname","onClick","emit","type","open","style","display","request_friends","length","onFocus","onBlur","src","profile_img","onMouseDown"],"sources":["C:/Users/ashh1/Desktop/project/PlayWithFriends/client/src/components/pageHeader.tsx"],"sourcesContent":["// css\r\nimport { profile } from \"console\";\r\nimport \"../css/pageheader.css\";\r\n\r\nimport React, { memo, useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport Head from \"../image/head.jpg\";\r\nimport { emitter } from \"../util/event\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"../context/store\";\r\nimport { user_service } from \"../service/userservice\";\r\nimport { socketClient } from \"../util/socket\";\r\n\r\nexport const PageHeader = () => {\r\n  let navigate = useNavigate();\r\n  let user = useSelector((state: RootState) => state.user);\r\n  let [userOption, setUserOption] = useState<boolean>(false);\r\n\r\n  const logout = async () => {\r\n    try {\r\n      await user_service.logout();\r\n      socketClient.disconnect();\r\n      navigate(\"/login\");\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"pwf_header\">\r\n      <span>\r\n        <Link to=\"/\" className=\"home_anchor\">\r\n          PWF {user.nickname}\r\n        </Link>\r\n      </span>\r\n\r\n      <div className=\"header_control\">\r\n        {/* 친구추가 */}\r\n        <div className=\"pwf_friend_box\">\r\n          <button\r\n            className=\"friend_btn\"\r\n            onClick={() =>\r\n              emitter.emit(\"modal\", { type: \"friend\", open: true })\r\n            }\r\n          >\r\n            <i className=\"fa-solid fa-user-plus\"></i>\r\n          </button>\r\n\r\n          <span\r\n            className=\"friend_add_number\"\r\n            style={{\r\n              display:\r\n                user.request_friends && user.request_friends.length\r\n                  ? \"flex\"\r\n                  : \"none\",\r\n            }}\r\n          >\r\n            {user.request_friends && user.request_friends.length\r\n              ? user.request_friends.length\r\n              : \"\"}\r\n          </span>\r\n        </div>\r\n\r\n        {/* 유저 프로필 */}\r\n        <div className=\"pwf_user_box\">\r\n          <button\r\n            className=\"pwf_user_btn\"\r\n            onFocus={() => setUserOption(true)}\r\n            onBlur={() => setUserOption(false)}\r\n          >\r\n            <img src={user.profile_img} />\r\n          </button>\r\n\r\n          <div\r\n            className=\"check_box\"\r\n            style={{ display: userOption ? \"flex\" : \"none\" }}\r\n          >\r\n            <button onMouseDown={() => emitter.emit(\"modal\", \"profile\")}>\r\n              내 프로필\r\n            </button>\r\n            <button onMouseDown={logout}>로그아웃</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}