{"ast":null,"code":"import{useEffect,useState}from\"react\";import\"../../css/stream.css\";import{emitter}from\"../../util/event\";// types\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const LiFriend=_ref=>{let{user}=_ref;let[select,Setselect]=useState(false);const selectControl=()=>Setselect(c=>!c);useEffect(()=>{emitter.emit(\"invite select\",{select,user});},[select]);return/*#__PURE__*/_jsxs(\"li\",{className:\"invite_friend_li\",children:[/*#__PURE__*/_jsx(\"input\",{id:user.nickname,type:\"radio\",checked:select,value:user.nickname,onClick:selectControl}),/*#__PURE__*/_jsx(\"span\",{className:\"invite_friend_img\",children:/*#__PURE__*/_jsx(\"img\",{src:user.profile_img})}),/*#__PURE__*/_jsx(\"span\",{className:\"invite_friend_nickname\",children:user.nickname})]});};export const StreamModal=_ref2=>{let{user,type}=_ref2;// let [open, setOpen] = useState<boolean>(false);\nlet[inviteUsers,setInviteUsers]=useState([]);// invite\nuseEffect(()=>{const handler=data=>{let{select,user}=data;if(select)setInviteUsers(c=>[...c,user]);else setInviteUsers(c=>c.filter(data=>data.nickname!==user.nickname));};emitter.on(\"invite select\",handler);return()=>{emitter.off(\"invite select\",handler);};},[]);const submitStreamRoomInfo=async e=>{e.preventDefault();};return/*#__PURE__*/_jsxs(\"div\",{className:\"stream_modal\",style:{display:type==\"stream\"?\"flex\":\"none\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"stream_create_box\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitStreamRoomInfo,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stream_roomname_box\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"stream_roomname\",children:\"\\uBC29\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"pwf_roomname_input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"participants_box\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"participants\",children:[\"\\uCC38\\uC5EC\\uC790 \",inviteUsers.length]}),/*#__PURE__*/_jsx(\"ul\",{className:\"participants_list\",children:inviteUsers.length?inviteUsers.map(val=>/*#__PURE__*/_jsx(\"li\",{children:val.nickname})):/*#__PURE__*/_jsx(\"p\",{style:{color:\"gray\"},children:\"\\uCD08\\uB300\\uB41C \\uCE5C\\uAD6C\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"friends_invite_box\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"friends_list\",children:\"\\uCE5C\\uAD6C\\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"friends_list\",children:user.friends&&user.friends.length?user.friends.map(val=>/*#__PURE__*/_jsx(LiFriend,{user:val})):/*#__PURE__*/_jsx(\"p\",{children:\"\\uCD08\\uB300\\uD560 \\uCE5C\\uAD6C\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})})]})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"stream_modal_footer\",children:/*#__PURE__*/_jsx(\"button\",{children:\"\\uBC29 \\uB9CC\\uB4E4\\uAE30\"})})]});};","map":{"version":3,"names":["useEffect","useState","emitter","jsx","_jsx","jsxs","_jsxs","LiFriend","_ref","user","select","Setselect","selectControl","c","emit","className","children","id","nickname","type","checked","value","onClick","src","profile_img","StreamModal","_ref2","inviteUsers","setInviteUsers","handler","data","filter","on","off","submitStreamRoomInfo","e","preventDefault","style","display","onSubmit","htmlFor","length","map","val","color","friends"],"sources":["C:/Users/ashh1/Desktop/project/PlayWithFriends/client/src/components/modal/streamRoom.tsx"],"sourcesContent":["import { ChangeEvent, useEffect, useState } from \"react\";\r\nimport \"../../css/stream.css\";\r\nimport { emitter } from \"../../util/event\";\r\n\r\n// types\r\nimport { User, UserComponent } from \"../../types/user\";\r\nimport { FormSubmit } from \"../../types/event\";\r\n\r\ninterface CompoentProps {\r\n  user: User;\r\n  type: string;\r\n}\r\n\r\nexport const LiFriend = ({ user }: UserComponent) => {\r\n  let [select, Setselect] = useState<boolean>(false);\r\n\r\n  const selectControl = () => Setselect((c) => !c);\r\n\r\n  useEffect(() => {\r\n    emitter.emit(\"invite select\", { select, user });\r\n  }, [select]);\r\n\r\n  return (\r\n    <li className=\"invite_friend_li\">\r\n      <input\r\n        id={user.nickname}\r\n        type=\"radio\"\r\n        checked={select}\r\n        value={user.nickname}\r\n        onClick={selectControl}\r\n      />\r\n      <span className=\"invite_friend_img\">\r\n        <img src={user.profile_img} />\r\n      </span>\r\n      <span className=\"invite_friend_nickname\">{user.nickname}</span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport const StreamModal = ({ user, type }: CompoentProps) => {\r\n  // let [open, setOpen] = useState<boolean>(false);\r\n  let [inviteUsers, setInviteUsers] = useState<User[]>([]);\r\n\r\n  // invite\r\n  useEffect(() => {\r\n    const handler = (data: any) => {\r\n      let { select, user } = data;\r\n\r\n      if (select) setInviteUsers((c) => [...c, user]);\r\n      else\r\n        setInviteUsers((c) =>\r\n          c.filter((data: User) => data.nickname !== user.nickname)\r\n        );\r\n    };\r\n\r\n    emitter.on(\"invite select\", handler);\r\n\r\n    return () => {\r\n      emitter.off(\"invite select\", handler);\r\n    };\r\n  }, []);\r\n\r\n  const submitStreamRoomInfo = async (e: FormSubmit) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"stream_modal\"\r\n      style={{ display: type == \"stream\" ? \"flex\" : \"none\" }}\r\n    >\r\n      {/* 모달 내용 */}\r\n      <div className=\"stream_create_box\">\r\n        <form onSubmit={submitStreamRoomInfo}>\r\n          {/* 방 이름 */}\r\n          <div className=\"stream_roomname_box\">\r\n            <label htmlFor=\"stream_roomname\">방이름</label>\r\n            <input type=\"text\" className=\"pwf_roomname_input\" />\r\n          </div>\r\n\r\n          {/* 참여자 목록 */}\r\n          <div className=\"participants_box\">\r\n            <label htmlFor=\"participants\">참여자 {inviteUsers.length}</label>\r\n            <ul className=\"participants_list\">\r\n              {inviteUsers.length ? (\r\n                inviteUsers.map((val) => <li>{val.nickname}</li>)\r\n              ) : (\r\n                <p style={{ color: \"gray\" }}>초대된 친구가 없습니다</p>\r\n              )}\r\n            </ul>\r\n          </div>\r\n          {/* 초대할 친구목록 */}\r\n          <div className=\"friends_invite_box\">\r\n            <label htmlFor=\"friends_list\">친구목록</label>\r\n            <ul className=\"friends_list\">\r\n              {user.friends && user.friends.length ? (\r\n                user.friends.map((val) => <LiFriend user={val} />)\r\n              ) : (\r\n                <p>초대할 친구가 없습니다.</p>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      {/* 모달 풋터 */}\r\n      <footer className=\"stream_modal_footer\">\r\n        <button>방 만들기</button>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}